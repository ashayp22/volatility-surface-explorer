<!DOCTYPE html>
<head>
  <title>Implied Volatilty Surface</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="styles.css">
</head>

<script src='https://cdn.plot.ly/plotly-2.27.0.min.js'></script>
<link href='https://fonts.googleapis.com/css?family=Noto Sans' rel='stylesheet'>
<script type="module" src = "./js/data.js"></script>    
<script type="module" src = "./js/calc.js"></script>    
<script type="module" src = "./js/parse.js"></script>    
<script type="module" src = "./js/plot.js"></script>    
<script type="module" src = "./js/modal.js"></script>    
<script type="module" src = "main.js"></script>    

<body>

  <div id="container">
    <p class="title">Implied Volatility Surface Explorer</p>
    <div class="optionsContainer">
      <div class="settingsContainer equalSizeContainer">
        <p>Sample Data</p>
        <select name="dataType" id="dataSelect" class="customSelect">
          <option value="SPY">SPY Feb 2024</option>
          <option value="AAPL">AAPL Dec 2013</option>
        </select>
      </div>

      <div class="settingsContainer equalSizeContainer">
        <p class="orText">OR</p>
      </div>

      <div class="settingsContainer equalSizeContainer">
        <div class="uploadOptionsContainer">
          <p>Upload an options chain (CSV) from the <a href="https://www.cboe.com/delayed_quotes/spy/quote_table" target="_blank">CBOE's delayed quotes</a></p>
          <button id="howToButton" class="primaryButton">?</button>
        </div>
        <input type="file" name="inputfile" id="inputfile">
      </div>
    </div>
    <hr>
    <div class="optionsContainer">
      <div class="settingsContainer">
        <p>Option Settings</p>
        <select name="optionType" id="optionSelect" class="customSelect">
          <option value="Call">Call</option>
          <option value="Put">Put</option>
        </select>
      </div>

      <div class="settingsContainer">
        <p>Plot Type</p>
        <select name="plotType" id="plotType" class="customSelect">
          <option value="mesh3d">Mesh</option>
          <!-- <option value="surface">Surface</option> -->
          <option value="markers">Points</option>
          <option value="lines">Line</option>
        </select>
      </div>

      <div class="settingsContainer">
        <p id="interestRateText">Interest Rate</p>
        <input type="range" min="0" max="100" value="10" id="interestRate">
      </div>

      <div class="settingsContainer">
        <p id="dividendYieldText">Dividend Yield</p>
        <input type="range" min="0" max="100" value="0" id="dividendYield">
      </div>
    </div>
    <hr>
    <div class="settingsContainer">
      <button id="theoRates" class="primaryButton">Calculate Put-Call Parity Interest Rate</button>
    </div>
    <div id ="info3d"></div>

    <button id="see2DButton" class="primaryButton">View Implied Vol vs Strike Plots</button>
    <div id="info2d"></div>
  </div>

  <footer>
    <p>Copyright &copy; 2024 Ashay Parikh</p>
  </footer>

  <div id="howToModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p class="orText">How to upload an options chain</p>
      <p>1. Visit the  <a href="https://www.cboe.com/delayed_quotes/spy/quote_table" target="_blank">CBOE's SPY Quotes Dashboard</a>, which displays delayed SPY option chains.</p>
      <img src="demo/step1.png" alt="CBOE website" width="500">
      <p>2. Update the Volume, Expiration Type, Options Range, Size, and Expiration filters as desired. If you select "All", you'll add more options to the chain.</p>
      <p>3. Scroll to the bottom of the page and click Download CSV. This will download all of the option chain data.</p>
      <img src="demo/step2.png" alt="CBOE website" width="500">
      <p>4. Upload the CSV file containing the option chain data to this website.</p>
      <img src="demo/step3.png" alt="CBOE website" width="300">
    </div>
  </div>

</body>

</html>
